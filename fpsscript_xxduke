-- Simple FPS Toggle Script, can be used in Delta/Arceus X/Xeno
-- Warning: This is a local script, made by xxduke4

local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- FPS Variables
local currentFPS = 60
local normalFPS = 60
local customFPS = 1
local isCustomFPS = false

-- Create Screen GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FPSToggle"
ScreenGui.Parent = Player.PlayerGui

-- Create Main Button
local MainButton = Instance.new("TextButton")
MainButton.Name = "FPSButton"
MainButton.Size = UDim2.new(0, 120, 0, 50)
MainButton.Position = UDim2.new(0, 50, 0, 50)
MainButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
MainButton.TextColor3 = Color3.new(1, 1, 1)
MainButton.Text = "FPS: Normal\nClick: 1 FPS"
MainButton.TextSize = 12
MainButton.TextWrapped = true
MainButton.Active = true
MainButton.Draggable = true
MainButton.Parent = ScreenGui

-- Create FPS Input
local FPSInput = Instance.new("TextBox")
FPSInput.Name = "FPSInput"
FPSInput.Size = UDim2.new(0, 120, 0, 30)
FPSInput.Position = UDim2.new(0, 50, 0, 110)
FPSInput.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
FPSInput.TextColor3 = Color3.new(1, 1, 1)
FPSInput.Text = "1"
FPSInput.PlaceholderText = "Enter FPS"
FPSInput.TextSize = 12
FPSInput.Active = true
FPSInput.Draggable = true
FPSInput.Parent = ScreenGui

-- Make buttons movable
local function makeMovable(button)
    local dragging = false
    local dragInput
    local dragStart
    local startPos
    
    button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = button.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    button.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            button.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

makeMovable(MainButton)
makeMovable(FPSInput)

-- FPS Toggle Function
local function toggleFPS()
    -- Get custom FPS from input
    local newFPS = tonumber(FPSInput.Text)
    if newFPS and newFPS > 0 and newFPS <= 360 then
        customFPS = math.floor(newFPS)
    else
        FPSInput.Text = tostring(customFPS)
    end
    
    if isCustomFPS then
        -- Set to normal FPS
        if setfpscap then
            setfpscap(normalFPS)
        end
        currentFPS = normalFPS
        MainButton.Text = "FPS: Normal\nClick: " .. customFPS .. " FPS"
        MainButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
        isCustomFPS = false
    else
        -- Set to custom FPS
        if setfpscap then
            setfpscap(customFPS)
        end
        currentFPS = customFPS
        MainButton.Text = "FPS: " .. customFPS .. "\nClick: Normal"
        MainButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
        isCustomFPS = true
    end
end

-- Connect button events
MainButton.MouseButton1Click:Connect(toggleFPS)

-- Mobile touch support
MainButton.TouchTap:Connect(toggleFPS)

-- Update FPS when Enter is pressed in input
FPSInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local newFPS = tonumber(FPSInput.Text)
        if newFPS and newFPS > 0 and newFPS <= 360 then
            customFPS = math.floor(newFPS)
            FPSInput.Text = tostring(customFPS)
            
            -- If custom FPS is currently active, update it immediately
            if isCustomFPS then
                if setfpscap then
                    setfpscap(customFPS)
                end
                currentFPS = customFPS
                MainButton.Text = "FPS: " .. customFPS .. "\nClick: Normal"
            else
                MainButton.Text = "FPS: Normal\nClick: " .. customFPS .. " FPS"
            end
        else
            FPSInput.Text = tostring(customFPS)
        end
    end
end)

-- Auto-adjust for different screen sizes
ScreenGui.ResetOnSpawn = false

print("FPS Toggle loaded!")
print("Click the button to toggle between custom FPS and normal FPS")
print("Type any FPS value in the text box (1-360)")
print("Drag both elements around the screen!")
